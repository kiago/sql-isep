--------------------------------------------------------
--  File created - Friday-March-28-2014   
--------------------------------------------------------
DROP TABLE "KAGOSTIN"."BONUS" cascade constraints;
DROP TABLE "KAGOSTIN"."DEPENDENTS" cascade constraints;
DROP TABLE "KAGOSTIN"."DEPT" cascade constraints;
DROP TABLE "KAGOSTIN"."EMP" cascade constraints;
DROP TABLE "KAGOSTIN"."PROJECT" cascade constraints;
DROP TABLE "KAGOSTIN"."SALGRADE" cascade constraints;
DROP SEQUENCE "KAGOSTIN"."NEW_DEPENDENT";
DROP VIEW "KAGOSTIN"."MAXSALARYDEPT20";
DROP VIEW "KAGOSTIN"."SALES_STAFF";
--------------------------------------------------------
--  DDL for Sequence NEW_DEPENDENT
--------------------------------------------------------

   CREATE SEQUENCE  "KAGOSTIN"."NEW_DEPENDENT"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 8002 NOCACHE  NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Table BONUS
--------------------------------------------------------

  CREATE TABLE "KAGOSTIN"."BONUS" 
   (	"ENAME" VARCHAR2(10 BYTE), 
	"JOB" VARCHAR2(9 BYTE), 
	"SAL" NUMBER, 
	"COMM" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "STUDENT" ;
--------------------------------------------------------
--  DDL for Table DEPENDENTS
--------------------------------------------------------

  CREATE TABLE "KAGOSTIN"."DEPENDENTS" 
   (	"DNO" NUMBER(4,0), 
	"DNAME" VARCHAR2(10 BYTE), 
	"DFIRST" VARCHAR2(10 BYTE), 
	"EMPNO" NUMBER(4,0)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "STUDENT" ;
--------------------------------------------------------
--  DDL for Table DEPT
--------------------------------------------------------

  CREATE TABLE "KAGOSTIN"."DEPT" 
   (	"DEPTNO" NUMBER(2,0), 
	"DNAME" VARCHAR2(14 BYTE), 
	"LOC" VARCHAR2(13 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "STUDENT" ;
--------------------------------------------------------
--  DDL for Table EMP
--------------------------------------------------------

  CREATE TABLE "KAGOSTIN"."EMP" 
   (	"EMPNO" NUMBER(4,0), 
	"ENAME" VARCHAR2(10 BYTE), 
	"EFIRST" VARCHAR2(10 BYTE), 
	"JOB" VARCHAR2(9 BYTE), 
	"MGR" NUMBER(4,0), 
	"HIREDATE" DATE, 
	"SAL" NUMBER(7,2), 
	"COMM" NUMBER(7,2), 
	"TEL" CHAR(10 BYTE), 
	"DEPTNO" NUMBER(2,0), 
	"MOBILE" CHAR(10 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "STUDENT" ;
--------------------------------------------------------
--  DDL for Table PROJECT
--------------------------------------------------------

  CREATE TABLE "KAGOSTIN"."PROJECT" 
   (	"NUMPRO" VARCHAR2(30 BYTE), 
	"NAMEPRO" CHAR(10 BYTE), 
	"STARTINGDATE" DATE, 
	"BUDGET" NUMBER(*,0)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "STUDENT" ;
--------------------------------------------------------
--  DDL for Table SALGRADE
--------------------------------------------------------

  CREATE TABLE "KAGOSTIN"."SALGRADE" 
   (	"GRADE" NUMBER, 
	"LOSAL" NUMBER, 
	"HISAL" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "STUDENT" ;
--------------------------------------------------------
--  DDL for View MAXSALARYDEPT20
--------------------------------------------------------

  CREATE OR REPLACE FORCE VIEW "KAGOSTIN"."MAXSALARYDEPT20" ("s") AS 
  SELECT MAX(SAL) "s"
FROM EMP
WHERE DEPTNO='20';
--------------------------------------------------------
--  DDL for View SALES_STAFF
--------------------------------------------------------

  CREATE OR REPLACE FORCE VIEW "KAGOSTIN"."SALES_STAFF" ("EMPNO", "ENAME", "DEPTNO") AS 
  SELECT empno, ename, deptno FROM emp WHERE deptno = 10
WITH CHECK OPTION  CONSTRAINT "SALES_STAFF_CNST";
REM INSERTING into KAGOSTIN.BONUS
SET DEFINE OFF;
REM INSERTING into KAGOSTIN.DEPENDENTS
SET DEFINE OFF;
REM INSERTING into KAGOSTIN.DEPT
SET DEFINE OFF;
Insert into KAGOSTIN.DEPT (DEPTNO,DNAME,LOC) values (10,'ACCOUNTING','NEW YORK');
Insert into KAGOSTIN.DEPT (DEPTNO,DNAME,LOC) values (20,'RESEARCH','DALLAS');
Insert into KAGOSTIN.DEPT (DEPTNO,DNAME,LOC) values (30,'SALES','CHICAGO');
Insert into KAGOSTIN.DEPT (DEPTNO,DNAME,LOC) values (40,'OPERATIONS','BOSTON');
REM INSERTING into KAGOSTIN.EMP
SET DEFINE OFF;
Insert into KAGOSTIN.EMP (EMPNO,ENAME,EFIRST,JOB,MGR,HIREDATE,SAL,COMM,TEL,DEPTNO,MOBILE) values (7369,'SMITH','JOHN','CLERK',7902,to_date('17-DEC-80','DD-MON-RR'),800,null,'0149545243',20,'0666666666');
Insert into KAGOSTIN.EMP (EMPNO,ENAME,EFIRST,JOB,MGR,HIREDATE,SAL,COMM,TEL,DEPTNO,MOBILE) values (7499,'ALLEN','BOB','SALESMAN',7698,to_date('20-FEB-81','DD-MON-RR'),1600,300,'0149547243',30,'0666666666');
Insert into KAGOSTIN.EMP (EMPNO,ENAME,EFIRST,JOB,MGR,HIREDATE,SAL,COMM,TEL,DEPTNO,MOBILE) values (7521,'WARD','PETER','SALESMAN',7698,to_date('22-FEB-81','DD-MON-RR'),1250,500,'0149545247',30,'0666666666');
Insert into KAGOSTIN.EMP (EMPNO,ENAME,EFIRST,JOB,MGR,HIREDATE,SAL,COMM,TEL,DEPTNO,MOBILE) values (7566,'JONES','JOHN','MANAGER',7839,to_date('02-APR-81','DD-MON-RR'),2975,null,'0149545456',20,'0666666666');
Insert into KAGOSTIN.EMP (EMPNO,ENAME,EFIRST,JOB,MGR,HIREDATE,SAL,COMM,TEL,DEPTNO,MOBILE) values (7654,'MARTIN','JOE','SALESMAN',7698,to_date('28-SEP-81','DD-MON-RR'),1250,1400,'0149545784',30,'0666666666');
Insert into KAGOSTIN.EMP (EMPNO,ENAME,EFIRST,JOB,MGR,HIREDATE,SAL,COMM,TEL,DEPTNO,MOBILE) values (7698,'BLAKE','BOB','MANAGER',7839,to_date('01-MAY-81','DD-MON-RR'),2850,null,'0149545254',30,'0666666666');
Insert into KAGOSTIN.EMP (EMPNO,ENAME,EFIRST,JOB,MGR,HIREDATE,SAL,COMM,TEL,DEPTNO,MOBILE) values (7782,'CLARK','JOHN','MANAGER',7839,to_date('09-JUN-81','DD-MON-RR'),2450,null,'0149545245',10,'0666666666');
Insert into KAGOSTIN.EMP (EMPNO,ENAME,EFIRST,JOB,MGR,HIREDATE,SAL,COMM,TEL,DEPTNO,MOBILE) values (7788,'SCOTT','GUY','ANALYST',7566,to_date('09-DEC-82','DD-MON-RR'),3000,null,'0149545249',20,'0630704323');
Insert into KAGOSTIN.EMP (EMPNO,ENAME,EFIRST,JOB,MGR,HIREDATE,SAL,COMM,TEL,DEPTNO,MOBILE) values (7844,'TURNER','PETER','SALESMAN',7698,to_date('08-SEP-81','DD-MON-RR'),1500,0,'0149548243',30,'0666666666');
Insert into KAGOSTIN.EMP (EMPNO,ENAME,EFIRST,JOB,MGR,HIREDATE,SAL,COMM,TEL,DEPTNO,MOBILE) values (7876,'ADAMS','JOSEPH','CLERK',7788,to_date('12-JAN-83','DD-MON-RR'),1100,null,'0149565243',20,'0666666666');
Insert into KAGOSTIN.EMP (EMPNO,ENAME,EFIRST,JOB,MGR,HIREDATE,SAL,COMM,TEL,DEPTNO,MOBILE) values (7900,'JAMES','ALAN','CLERK',7698,to_date('03-DEC-81','DD-MON-RR'),950,null,'0149545564',30,'0666666666');
Insert into KAGOSTIN.EMP (EMPNO,ENAME,EFIRST,JOB,MGR,HIREDATE,SAL,COMM,TEL,DEPTNO,MOBILE) values (7902,'FORD','MARIA','ANALYST',7566,to_date('03-DEC-81','DD-MON-RR'),3000,null,'0149785243',20,'0666666666');
Insert into KAGOSTIN.EMP (EMPNO,ENAME,EFIRST,JOB,MGR,HIREDATE,SAL,COMM,TEL,DEPTNO,MOBILE) values (7934,'MILLER','ALICE','CLERK',7782,to_date('23-JAN-82','DD-MON-RR'),1300,null,'0199545243',10,'0666666666');
REM INSERTING into KAGOSTIN.PROJECT
SET DEFINE OFF;
REM INSERTING into KAGOSTIN.SALGRADE
SET DEFINE OFF;
Insert into KAGOSTIN.SALGRADE (GRADE,LOSAL,HISAL) values (1,700,1200);
Insert into KAGOSTIN.SALGRADE (GRADE,LOSAL,HISAL) values (2,1201,1400);
Insert into KAGOSTIN.SALGRADE (GRADE,LOSAL,HISAL) values (3,1401,2000);
Insert into KAGOSTIN.SALGRADE (GRADE,LOSAL,HISAL) values (4,2001,3000);
Insert into KAGOSTIN.SALGRADE (GRADE,LOSAL,HISAL) values (5,3001,9999);
Insert into KAGOSTIN.SALGRADE (GRADE,LOSAL,HISAL) values (1,700,1200);
Insert into KAGOSTIN.SALGRADE (GRADE,LOSAL,HISAL) values (2,1201,1400);
Insert into KAGOSTIN.SALGRADE (GRADE,LOSAL,HISAL) values (3,1401,2000);
Insert into KAGOSTIN.SALGRADE (GRADE,LOSAL,HISAL) values (4,2001,3000);
Insert into KAGOSTIN.SALGRADE (GRADE,LOSAL,HISAL) values (5,3001,9999);
Insert into KAGOSTIN.SALGRADE (GRADE,LOSAL,HISAL) values (1,700,1200);
Insert into KAGOSTIN.SALGRADE (GRADE,LOSAL,HISAL) values (2,1201,1400);
Insert into KAGOSTIN.SALGRADE (GRADE,LOSAL,HISAL) values (3,1401,2000);
Insert into KAGOSTIN.SALGRADE (GRADE,LOSAL,HISAL) values (4,2001,3000);
Insert into KAGOSTIN.SALGRADE (GRADE,LOSAL,HISAL) values (5,3001,9999);
--------------------------------------------------------
--  DDL for Index PK_EMP
--------------------------------------------------------

  CREATE UNIQUE INDEX "KAGOSTIN"."PK_EMP" ON "KAGOSTIN"."EMP" ("EMPNO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "STUDENT" ;
--------------------------------------------------------
--  DDL for Index PK_DEPT
--------------------------------------------------------

  CREATE UNIQUE INDEX "KAGOSTIN"."PK_DEPT" ON "KAGOSTIN"."DEPT" ("DEPTNO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "STUDENT" ;
--------------------------------------------------------
--  DDL for Index PK_DEPENDENT
--------------------------------------------------------

  CREATE UNIQUE INDEX "KAGOSTIN"."PK_DEPENDENT" ON "KAGOSTIN"."DEPENDENTS" ("DNO", "EMPNO") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "STUDENT" ;
--------------------------------------------------------
--  Constraints for Table PROJECT
--------------------------------------------------------

  ALTER TABLE "KAGOSTIN"."PROJECT" MODIFY ("NUMPRO" NOT NULL ENABLE);
 
  ALTER TABLE "KAGOSTIN"."PROJECT" MODIFY ("NAMEPRO" NOT NULL ENABLE);
 
  ALTER TABLE "KAGOSTIN"."PROJECT" ADD CHECK (budget > 0) ENABLE;
 
  ALTER TABLE "KAGOSTIN"."PROJECT" ADD PRIMARY KEY ("NUMPRO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "STUDENT"  ENABLE;
--------------------------------------------------------
--  Constraints for Table EMP
--------------------------------------------------------

  ALTER TABLE "KAGOSTIN"."EMP" ADD CONSTRAINT "CHK_MOBILE" CHECK (MOBILE LIKE '06%') ENABLE;
 
  ALTER TABLE "KAGOSTIN"."EMP" ADD CONSTRAINT "CK_SAL" CHECK (SAL>=0) ENABLE;
 
  ALTER TABLE "KAGOSTIN"."EMP" ADD CONSTRAINT "PK_EMP" PRIMARY KEY ("EMPNO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "STUDENT"  ENABLE;
 
  ALTER TABLE "KAGOSTIN"."EMP" MODIFY ("MGR" NOT NULL ENABLE);
 
  ALTER TABLE "KAGOSTIN"."EMP" MODIFY ("MOBILE" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table DEPENDENTS
--------------------------------------------------------

  ALTER TABLE "KAGOSTIN"."DEPENDENTS" ADD CONSTRAINT "PK_DEPENDENT" PRIMARY KEY ("DNO", "EMPNO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "STUDENT"  ENABLE;
--------------------------------------------------------
--  Constraints for Table DEPT
--------------------------------------------------------

  ALTER TABLE "KAGOSTIN"."DEPT" ADD CONSTRAINT "PK_DEPT" PRIMARY KEY ("DEPTNO")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "STUDENT"  ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table DEPENDENTS
--------------------------------------------------------

  ALTER TABLE "KAGOSTIN"."DEPENDENTS" ADD CONSTRAINT "FK_DEPENDENT_EMP" FOREIGN KEY ("EMPNO")
	  REFERENCES "KAGOSTIN"."EMP" ("EMPNO") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table EMP
--------------------------------------------------------

  ALTER TABLE "KAGOSTIN"."EMP" ADD CONSTRAINT "FK_EMP_DEPT" FOREIGN KEY ("EMPNO")
	  REFERENCES "KAGOSTIN"."EMP" ("EMPNO") ON DELETE CASCADE ENABLE;
